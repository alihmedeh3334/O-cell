<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… O-Cell</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .admin-card { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); width: 100%; max-width: 400px; }
        h2 { text-align: center; color: #1a73e8; }
        input, select, button { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        button { background-color: #1a73e8; color: white; border: none; font-weight: bold; cursor: pointer; transition: 0.3s; }
        button:hover { background-color: #1557b0; }
        #message { text-align: center; font-weight: bold; }
    </style>
</head>
<body>

<div class="admin-card">
    <h2>Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯ ğŸ“¦</h2>
    <input type="text" id="pName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ (Ù…Ø«Ù„Ø§Ù‹: Ø´Ø§Ø­Ù† Ø³Ø±ÙŠØ¹)">
    <input type="number" id="pPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± (Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø§Ø±)">
    <select id="pCategory">
        <option value="electronics">Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</option>
        <option value="accessories">Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª</option>
        <option value="phones">Ù‡ÙˆØ§ØªÙ</option>
    </select>
    <input type="text" id="pImageUrl" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ù…Ù†ØªØ¬ (URL)">
    <button id="addBtn">Ù†Ø´Ø± Ø§Ù„Ù…Ù†ØªØ¬ ÙÙŠ o-cell.store</button>
    <p id="message"></p>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

    // ÙƒÙˆØ¯ Ø§Ù„Ø±Ø¨Ø· Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ù† Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyCnzm7b0mEiszDck9d_KvOfVMN2WguQs8w",
        authDomain: "o-cell-8bd7f.firebaseapp.com",
        projectId: "o-cell-8bd7f",
        storageBucket: "o-cell-8bd7f.firebasestorage.app",
        messagingSenderId: "123702658364",
        appId: "1:123702658364:web:f51ca179843af7bab24a39"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const btn = document.getElementById('addBtn');
    const msg = document.getElementById('message');

    btn.onclick = async () => {
        const name = document.getElementById('pName').value;
        const price = document.getElementById('pPrice').value;
        const category = document.getElementById('pCategory').value;
        const imgUrl = document.getElementById('pImageUrl').value;

        if(!name || !price || !imgUrl) {
            alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø§Ù†Ø§Øª!");
            return;
        }

        msg.style.color = "orange";
        msg.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...";

        try {
            await addDoc(collection(db, "products"), {
                name: name,
                price: price,
                category: category,
                image: imgUrl,
                timestamp: new Date()
            });
            msg.style.color = "green";
            msg.innerText = "âœ… ØªÙ… Ù†Ø´Ø± Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­!";
            // Ù…Ø³Ø­ Ø§Ù„Ø®Ø§Ù†Ø§Øª Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­
            document.getElementById('pName').value = "";
            document.getElementById('pPrice').value = "";
            document.getElementById('pImageUrl').value = "";
        } catch (e) {
            msg.style.color = "red";
            msg.innerText = "Ø®Ø·Ø£: ØªØ£ÙƒØ¯ Ù…Ù† ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù€ Rules ÙÙŠ Firestore";
            console.error(e);
        }
    };
</script>
</body>
</html>
