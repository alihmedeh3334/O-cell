<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <style>
        body { font-family: sans-serif; padding: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 15px; }
        th, td { padding: 12px; border: 1px solid #ddd; text-align: right; }
        th { background: #e74c3c; color: white; }
        .total-box { background: #f8d7da; padding: 15px; border-radius: 8px; margin-bottom: 20px; font-weight: bold; color: #721c24; }
    </style>
</head>
<body>
    <h1>ðŸ”„ Ø³Ø¬Ù„ Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª</h1>
    <div class="total-box" id="totalReturns">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª: 0</div>
    <table>
        <thead>
            <tr>
                <th>Ø§Ù„Ù‚Ø·Ø¹Ø©</th>
                <th>Ø§Ù„Ø²Ø¨ÙˆÙ†</th>
                <th>Ø§Ù„Ø³Ø¹Ø±</th>
                <th>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ø±Ø¬Ø§Ø¹</th>
            </tr>
        </thead>
        <tbody id="returns-table"></tbody>
    </table>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

    const firebaseConfig = { /* Ø§Ø³ØªØ®Ø¯Ù… Ù†ÙØ³ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù‡Ù†Ø§ */ };
    const db = getFirestore(initializeApp(firebaseConfig));

    async function loadReturns() {
        const snap = await getDocs(collection(db, "returns"));
        const table = document.getElementById('returns-table');
        let total = 0;
        table.innerHTML = "";

        snap.forEach(d => {
            const r = d.data();
            total++;
            table.innerHTML += `
                <tr>
                    <td>${r.productName}</td>
                    <td>${r.userName}</td>
                    <td>$${r.priceUsed}</td>
                    <td>${r.returnDate.toDate().toLocaleDateString('ar-LB')}</td>
                </tr>`;
        });
        document.getElementById('totalReturns').innerText = "Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø±ØªØ¬Ø¹Ø§Øª: " + total;
    }
    loadReturns();
</script>
</body>
</html>

